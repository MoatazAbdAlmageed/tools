<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ø­ÙˆÙ„ Ø§Ù„ÙˆØ­Ø¯Ø§Øª</title>
<link rel="stylesheet" href="../theme.css">
<style>
.unit-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.unit-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 16px;
  transition: border-color 0.2s;
  position: relative;
}
.unit-card:focus-within { border-color: var(--accent); }
.unit-card.active-src { border-color: var(--accent); }

.unit-name {
  font-size: 0.75rem;
  color: var(--muted);
  font-weight: 700;
  margin-bottom: 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.unit-abbr {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 2px 8px;
  font-size: 0.7rem;
}
.unit-input {
  width: 100%;
  background: transparent;
  border: none;
  outline: none;
  color: var(--text);
  font-family: 'Cairo', sans-serif;
  font-size: 1.3rem;
  font-weight: 900;
}
.unit-input::placeholder { color: var(--border); font-weight: 400; font-size: 1rem; }
.u-copy {
  position: absolute;
  bottom: 10px;
  left: 10px;
}

.category-tabs {
  display: flex;
  gap: 8px;
  margin-bottom: 20px;
  overflow-x: auto;
  padding-bottom: 4px;
}
.tab {
  padding: 8px 16px;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 30px;
  color: var(--muted);
  font-family: 'Cairo', sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  cursor: pointer;
  white-space: nowrap;
  transition: all 0.2s;
}
.tab.active {
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  border-color: var(--accent);
  color: #fff;
}

.quick-ref {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px 20px;
  margin-top: 20px;
  font-size: 0.82rem;
  color: var(--muted);
  line-height: 2;
}
.quick-ref strong { color: var(--accent); }
</style>
</head>
<body>
<div class="wrapper">
  <a href="../index.html" class="back-btn">â† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>

  <div class="page-header">
    <span class="page-icon">ğŸ”„</span>
    <div class="page-title">Ù…Ø­ÙˆÙ„ Ø§Ù„ÙˆØ­Ø¯Ø§Øª</div>
    <div class="page-desc">Ø§ÙƒØªØ¨ ÙÙŠ Ø£ÙŠ Ø®Ø§Ù†Ø© Ù„Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙÙˆØ±ÙŠ</div>
  </div>

  <div class="card">
    <div class="category-tabs">
      <button class="tab active" onclick="setCategory('weight')">âš–ï¸ ÙˆØ²Ù†</button>
      <button class="tab" onclick="setCategory('length')">ğŸ“ Ø·ÙˆÙ„</button>
      <button class="tab" onclick="setCategory('area')">â¬œ Ù…Ø³Ø§Ø­Ø©</button>
      <button class="tab" onclick="setCategory('currency')">ğŸ’± Ø¹Ù…Ù„Ø§Øª</button>
    </div>

    <div class="unit-grid" id="unitGrid"></div>

    <div class="quick-ref" id="quickRef"></div>

    <div class="btn-row">
      <button class="btn btn-secondary" onclick="clearAll()">ğŸ—‘ï¸ Ù…Ø³Ø­</button>
      <button class="btn btn-primary" onclick="copyAll()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„ÙƒÙ„</button>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
const categories = {
  weight: {
    name: 'ÙˆØ²Ù†',
    units: [
      { key:'g',   label:'Ø¬Ø±Ø§Ù…',       abbr:'g',  toBase: 1 },
      { key:'kg',  label:'ÙƒÙŠÙ„ÙˆØ¬Ø±Ø§Ù…',   abbr:'kg', toBase: 1000 },
      { key:'ton', label:'Ø·Ù†',          abbr:'t',  toBase: 1000000 },
      { key:'lb',  label:'Ø±Ø·Ù„ (Ø¨Ø§ÙˆÙ†Ø¯)', abbr:'lb', toBase: 453.592 },
      { key:'oz',  label:'Ø£ÙˆÙ†ØµØ©',       abbr:'oz', toBase: 28.3495 },
      { key:'qnt', label:'Ù‚Ù†Ø·Ø§Ø±',       abbr:'Ù‚Ù†Ø·Ø§Ø±', toBase: 100000 },
    ],
    ref: `<strong>1 ÙƒÙŠÙ„Ùˆ</strong> = 1000 Ø¬Ø±Ø§Ù… &nbsp;|&nbsp; <strong>1 Ø·Ù†</strong> = 1000 ÙƒÙŠÙ„Ùˆ &nbsp;|&nbsp; <strong>1 Ø±Ø·Ù„</strong> â‰ˆ 453.6 Ø¬Ø±Ø§Ù… &nbsp;|&nbsp; <strong>1 Ù‚Ù†Ø·Ø§Ø±</strong> = 100 ÙƒÙŠÙ„Ùˆ`
  },
  length: {
    name: 'Ø·ÙˆÙ„',
    units: [
      { key:'mm',  label:'Ù…Ù„Ù„ÙŠÙ…ØªØ±', abbr:'mm',  toBase: 0.001 },
      { key:'cm',  label:'Ø³Ù†ØªÙŠÙ…ØªØ±', abbr:'cm',  toBase: 0.01 },
      { key:'m',   label:'Ù…ØªØ±',     abbr:'m',   toBase: 1 },
      { key:'km',  label:'ÙƒÙŠÙ„ÙˆÙ…ØªØ±', abbr:'km',  toBase: 1000 },
      { key:'in',  label:'Ø¥Ù†Ø´',     abbr:'in',  toBase: 0.0254 },
      { key:'ft',  label:'Ù‚Ø¯Ù…',     abbr:'ft',  toBase: 0.3048 },
    ],
    ref: `<strong>1 Ù…ØªØ±</strong> = 100 Ø³Ù… = 1000 Ù…Ù… &nbsp;|&nbsp; <strong>1 ÙƒÙŠÙ„ÙˆÙ…ØªØ±</strong> = 1000 Ù…ØªØ± &nbsp;|&nbsp; <strong>1 Ø¥Ù†Ø´</strong> â‰ˆ 2.54 Ø³Ù…`
  },
  area: {
    name: 'Ù…Ø³Ø§Ø­Ø©',
    units: [
      { key:'m2',   label:'Ù…ØªØ± Ù…Ø±Ø¨Ø¹',    abbr:'Ù…Â²',    toBase: 1 },
      { key:'km2',  label:'ÙƒÙŠÙ„ÙˆÙ…ØªØ± Ù…Ø±Ø¨Ø¹',abbr:'ÙƒÙ…Â²',   toBase: 1000000 },
      { key:'fed',  label:'ÙØ¯Ø§Ù†',         abbr:'ÙØ¯Ø§Ù†',  toBase: 4200 },
      { key:'qrt',  label:'Ù‚ÙŠØ±Ø§Ø·',        abbr:'Ù‚ÙŠØ±Ø§Ø·', toBase: 175 },
      { key:'ha',   label:'Ù‡ÙƒØªØ§Ø±',        abbr:'ha',    toBase: 10000 },
      { key:'acre', label:'Ø£ÙƒØ±',          abbr:'acre',  toBase: 4046.86 },
    ],
    ref: `<strong>1 ÙØ¯Ø§Ù†</strong> = 24 Ù‚ÙŠØ±Ø§Ø· = 4200 Ù…Â² &nbsp;|&nbsp; <strong>1 Ù‡ÙƒØªØ§Ø±</strong> = 10,000 Ù…Â² &nbsp;|&nbsp; <strong>1 ÙØ¯Ø§Ù†</strong> â‰ˆ 0.42 Ù‡ÙƒØªØ§Ø±`
  },
  currency: {
    name: 'Ø¹Ù…Ù„Ø§Øª (ØªÙ‚Ø±ÙŠØ¨ÙŠ)',
    units: [
      { key:'egp', label:'Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ',    abbr:'EGP',  toBase: 1 },
      { key:'sar', label:'Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ',   abbr:'SAR',  toBase: 8.4 },
      { key:'uae', label:'Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ', abbr:'AED',  toBase: 8.9 },
      { key:'usd', label:'Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ', abbr:'USD',  toBase: 32.5 },
      { key:'eur', label:'ÙŠÙˆØ±Ùˆ',          abbr:'EUR',  toBase: 35.5 },
      { key:'kwd', label:'Ø¯ÙŠÙ†Ø§Ø± ÙƒÙˆÙŠØªÙŠ',  abbr:'KWD',  toBase: 106 },
    ],
    ref: `<strong>ØªÙ†Ø¨ÙŠÙ‡:</strong> Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØµØ±Ù ØªÙ‚Ø±ÙŠØ¨ÙŠØ©. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù‚Ø¨Ù„ Ø§Ù„ØªØ¹Ø§Ù…Ù„ &nbsp;|&nbsp; Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¯ ØªÙƒÙˆÙ† ØºÙŠØ± Ù…Ø­Ø¯Ø«Ø©`
  }
};

let currentCat = 'weight';

function setCategory(cat) {
  currentCat = cat;
  document.querySelectorAll('.tab').forEach((t, i) => {
    const keys = ['weight','length','area','currency'];
    t.classList.toggle('active', keys[i] === cat);
  });
  clearAll();
  renderGrid();
}

function renderGrid() {
  const cat = categories[currentCat];
  const grid = document.getElementById('unitGrid');
  grid.innerHTML = cat.units.map(u => `
    <div class="unit-card" id="card-${u.key}">
      <div class="unit-name">
        ${u.label}
        <span class="unit-abbr">${u.abbr}</span>
      </div>
      <input class="unit-input" type="number" id="u-${u.key}"
        placeholder="0" min="0" step="any"
        oninput="convertFrom('${u.key}')">
      <button class="copy-btn u-copy" onclick="copyUnit('${u.key}')">ğŸ“‹</button>
    </div>
  `).join('');
  document.getElementById('quickRef').innerHTML = cat.ref;
}

function r(v) {
  if (v === 0) return 0;
  const mag = Math.floor(Math.log10(Math.abs(v)));
  const factor = Math.pow(10, 6 - mag);
  return Math.round(v * factor) / factor;
}

function convertFrom(srcKey) {
  const cat = categories[currentCat];
  const srcUnit = cat.units.find(u => u.key === srcKey);
  const val = parseFloat(document.getElementById(`u-${srcKey}`).value);

  cat.units.forEach(u => {
    if (u.key === srcKey) return;
    const el = document.getElementById(`u-${u.key}`);
    if (isNaN(val)) { el.value = ''; return; }
    const inBase = val * srcUnit.toBase;
    el.value = r(inBase / u.toBase);
  });
}

function copyUnit(key) {
  const v = document.getElementById(`u-${key}`).value;
  if (!v) return;
  navigator.clipboard.writeText(v);
  showToast('âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø®');
}

function copyAll() {
  const cat = categories[currentCat];
  const lines = cat.units.map(u => {
    const v = document.getElementById(`u-${u.key}`).value;
    return v ? `${u.label}: ${v}` : null;
  }).filter(Boolean);
  if (!lines.length) return;
  navigator.clipboard.writeText(lines.join('\n'));
  showToast('âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙƒÙ„');
}

function clearAll() {
  const cat = categories[currentCat];
  cat.units.forEach(u => {
    const el = document.getElementById(`u-${u.key}`);
    if (el) el.value = '';
  });
}

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg; t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2000);
}

renderGrid();
</script>
</body>
</html>
