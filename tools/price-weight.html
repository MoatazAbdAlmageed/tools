<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ÙƒÙŠÙ„Ùˆ ÙˆØ§Ù„Ù†Øµ ÙˆØ§Ù„Ø±Ø¨Ø¹</title>
<link rel="stylesheet" href="../theme.css">
<style>
.field-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 18px 20px;
  display: flex;
  align-items: center;
  gap: 16px;
  transition: border-color 0.2s, transform 0.15s;
  margin-bottom: 4px;
}
.field-card:focus-within { border-color: var(--accent); transform: translateX(-3px); }
.field-icon {
  width: 50px; height: 50px;
  border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  font-size: 1.5rem; flex-shrink: 0;
}
.field-icon.kilo  { background: linear-gradient(135deg, #f5a623, #e8722a); }
.field-icon.half  { background: linear-gradient(135deg, #4facfe, #00c6fb); }
.field-icon.quar  { background: linear-gradient(135deg, #2dce89, #1ab76d); }
.field-icon.eighth{ background: linear-gradient(135deg, #a78bfa, #7c3aed); }
.field-info { flex: 1; }
.field-lbl { font-size: 0.78rem; color: var(--muted); font-weight: 700; margin-bottom: 4px; }
.field-input-row { display: flex; align-items: center; }
.field-input-row input {
  flex: 1; background: transparent; border: none; outline: none;
  color: var(--text); font-family: 'Cairo', sans-serif;
  font-size: 1.4rem; font-weight: 700;
}
.field-input-row input::placeholder { color: var(--border); font-weight: 400; }
</style>
</head>
<body>
<div class="wrapper">
  <a href="../index.html" class="back-btn">â† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>

  <div class="page-header">
    <span class="page-icon">âš–ï¸</span>
    <div class="page-title">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ÙƒÙŠÙ„Ùˆ</div>
    <div class="page-desc">Ø§ÙƒØªØ¨ ÙÙŠ Ø£ÙŠ Ø®Ø§Ù†Ø© ÙˆØ³ÙŠØªÙ… Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ø§Ù‚ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</div>
  </div>

  <div class="card">
    <div class="input-group">
      <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
      <input type="text" id="productName" placeholder="Ù…Ø«Ø§Ù„: Ø³ÙƒØ±ØŒ Ø£Ø±Ø²ØŒ Ø²ÙŠØª...">
    </div>

    <div class="divider">Ø§Ù„Ø£ÙˆØ²Ø§Ù†</div>

    <div class="field-card">
      <div class="field-icon kilo">âš–ï¸</div>
      <div class="field-info">
        <div class="field-lbl">Ø§Ù„ÙƒÙŠÙ„Ùˆ (1000 Ø¬Ø±Ø§Ù…)</div>
        <div class="field-input-row">
          <input type="number" id="kilo" placeholder="0" min="0" step="any">
        </div>
      </div>
      <button class="copy-btn" onclick="copyVal('kilo')">ğŸ“‹</button>
    </div>

    <div class="divider">Ã· 2</div>

    <div class="field-card">
      <div class="field-icon half">ğŸ”¹</div>
      <div class="field-info">
        <div class="field-lbl">Ù†Øµ ÙƒÙŠÙ„Ùˆ (500 Ø¬Ø±Ø§Ù…)</div>
        <div class="field-input-row">
          <input type="number" id="half" placeholder="0" min="0" step="any">
        </div>
      </div>
      <button class="copy-btn" onclick="copyVal('half')">ğŸ“‹</button>
    </div>

    <div class="divider">Ã· 2</div>

    <div class="field-card">
      <div class="field-icon quar">ğŸ”¸</div>
      <div class="field-info">
        <div class="field-lbl">Ø±Ø¨Ø¹ ÙƒÙŠÙ„Ùˆ (250 Ø¬Ø±Ø§Ù…)</div>
        <div class="field-input-row">
          <input type="number" id="quarter" placeholder="0" min="0" step="any">
        </div>
      </div>
      <button class="copy-btn" onclick="copyVal('quarter')">ğŸ“‹</button>
    </div>

    <div class="divider">Ã· 2</div>

    <div class="field-card">
      <div class="field-icon eighth">ğŸ”º</div>
      <div class="field-info">
        <div class="field-lbl">ØªÙ…Ù† ÙƒÙŠÙ„Ùˆ (125 Ø¬Ø±Ø§Ù…)</div>
        <div class="field-input-row">
          <input type="number" id="eighth" placeholder="0" min="0" step="any">
        </div>
      </div>
      <button class="copy-btn" onclick="copyVal('eighth')">ğŸ“‹</button>
    </div>

    <div class="btn-row">
      <button class="btn btn-secondary" onclick="clearAll()">ğŸ—‘ï¸ Ù…Ø³Ø­</button>
      <button class="btn btn-primary" onclick="copyAll()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„ÙƒÙ„</button>
    </div>
  </div>
</div>

<div class="toast" id="toast">âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø®!</div>

<script>
const fields = {
  kilo: { el: document.getElementById('kilo'), mult: 1 },
  half: { el: document.getElementById('half'), mult: 0.5 },
  quarter: { el: document.getElementById('quarter'), mult: 0.25 },
  eighth: { el: document.getElementById('eighth'), mult: 0.125 },
};

function r(v) { return Math.round(v * 1000) / 1000; }

function calculate(src) {
  const val = parseFloat(fields[src].el.value);
  if (isNaN(val) || val < 0) return;
  const kiloPrice = val / fields[src].mult;
  Object.entries(fields).forEach(([k, f]) => {
    if (k !== src) f.el.value = r(kiloPrice * f.mult);
  });
}

Object.keys(fields).forEach(k => {
  fields[k].el.addEventListener('input', () => calculate(k));
});

function showToast(msg = 'âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø®!') {
  const t = document.getElementById('toast');
  t.textContent = msg; t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2000);
}

function copyVal(key) {
  const v = fields[key].el.value;
  if (!v) return;
  navigator.clipboard.writeText(v);
  const names = { kilo:'Ø§Ù„ÙƒÙŠÙ„Ùˆ', half:'Ø§Ù„Ù†Øµ', quarter:'Ø§Ù„Ø±Ø¨Ø¹', eighth:'Ø§Ù„ØªÙ…Ù†' };
  showToast(`âœ… ØªÙ… Ù†Ø³Ø® ${names[key]}`);
}

function copyAll() {
  const vals = Object.entries(fields).map(([k,f]) => f.el.value).filter(Boolean);
  if (!vals.length) return;
  const name = document.getElementById('productName').value;
  const labels = { kilo:'Ø§Ù„ÙƒÙŠÙ„Ùˆ', half:'Ø§Ù„Ù†Øµ', quarter:'Ø§Ù„Ø±Ø¨Ø¹', eighth:'Ø§Ù„ØªÙ…Ù†' };
  let text = name ? `${name}:\n` : '';
  Object.entries(fields).forEach(([k, f]) => {
    if (f.el.value) text += `${labels[k]}: ${f.el.value}\n`;
  });
  navigator.clipboard.writeText(text.trim());
  showToast('âœ… ØªÙ… Ù†Ø³Ø® Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±!');
}

function clearAll() {
  Object.values(fields).forEach(f => f.el.value = '');
  document.getElementById('productName').value = '';
}
</script>
</body>
</html>
